:root {
  --bg: #0b0f13;
  --ui: #cbd4e1;
  --accent: #66e3ff;
  --danger: #ff4d4d;
  --warn: #ffd966;
  --panel: #11161c;
  --border: #2a313c;
}

* { box-sizing: border-box; }
html, body { margin: 0; height: 100%; background: var(--bg); color: var(--ui); font-family: system-ui, sans-serif; }
button { font: inherit; }
.hidden { display: none !important; }

/* Main menu */
#menu {
  position: fixed; inset: 0; display: grid; place-items: center;
  background: rgba(0,0,0,0.85);
}
.menu-panel {
  width: 360px; padding: 22px; background: var(--panel); border: 1px solid var(--border);
  box-shadow: 0 10px 30px rgba(0,0,0,0.6);
}
.menu-panel h1 { margin: 0 0 4px; }
.menu-panel p { margin: 0 0 12px; opacity: 0.8; }
.menu-panel .btn { width: 100%; padding: 10px; margin-top: 10px; background: #151a21; border: 1px solid var(--border); color: var(--ui); cursor: pointer; }
.menu-panel .btn:hover { border-color: var(--accent); color: #fff; }

/* HUD */
#hud {
  position: fixed; top: 0; left: 0; right: 0; display: flex; justify-content: space-between; padding: 10px 16px; pointer-events: none;
}
#hud .left, #hud .right { pointer-events: auto; display: flex; gap: 10px; align-items: center; }
#hud .btn { padding: 8px 12px; background: #151a21; color: var(--ui); border: 1px solid var(--border); cursor: pointer; }
#hud .meter { font-size: 14px; opacity: 0.9; }

/* Oficina 3D */
#scene { position: fixed; inset: 0; display: grid; place-items: center; perspective: 1000px; overflow: hidden; }
#office {
  width: 1100px; height: 640px; position: relative; transform-style: preserve-3d;
  transition: transform 160ms cubic-bezier(0.2,0.7,0,1);
}
.wall { position: absolute; width: 100%; height: 100%; background: #0e1318; }
.wall.center { transform: translateZ(0); background: #0f1419; }
.wall.left { transform: translateZ(-160px) rotateY(20deg); transform-origin: left center; background: #11161c; }
.wall.right { transform: translateZ(-160px) rotateY(-20deg); transform-origin: right center; background: #11161c; }

/* Mesa y monitor */
.desk { position: absolute; bottom: 36px; left: 50%; transform: translateX(-50%); width: 720px; height: 120px; background: #141a21; border: 1px solid #1f2530; }
.monitor { position: absolute; bottom: 90px; left: 50%; transform: translateX(-50%) translateZ(30px); width: 360px; height: 200px; background: #0b0f13; border: 1px solid #263041; display: grid; place-items: center; color: #7f8fa3; }

/* Puertas y luces */
.door, .light {
  position: absolute; top: 52%; transform: translateY(-50%); background: #0f1318; border: 1px solid var(--border); color: var(--ui); padding: 8px 10px; cursor: pointer;
}
.door.left { left: 16px; }
.door.right { right: 16px; }
.light { top: 64%; }
.light.left { left: 16px; }
.light.right { right: 16px; }
.active-door { border-color: var(--accent) !important; }
.active-light { border-color: var(--warn) !important; }

/* Luces halo */
.light-beam { position: absolute; top: 0; width: 30%; height: 100%; pointer-events: none; opacity: 0; mix-blend-mode: screen; transition: opacity 120ms ease; }
.light-beam.left { left: 0; background: radial-gradient(600px 400px at 10% 50%, rgba(255,240,180,0.25), transparent 70%); }
.light-beam.right { right: 0; background: radial-gradient(600px 400px at 90% 50%, rgba(255,240,180,0.25), transparent 70%); }

/* Animatrónicos */
.bot { position: absolute; width: 140px; height: 200px; background: #1a2029; border: 1px solid #2a313c; display: grid; grid-template-rows: auto 1fr; color: #9fb0c7; text-align: center; padding-top: 8px; transform-style: preserve-3d; opacity: 0; }
.bot .face { margin: 6px auto; width: 96px; height: 96px; border-radius: 50%; background: radial-gradient(circle at 40% 40%, #2e3744, #1a2029); }
.bot.show { transform: scale(1); opacity: 1; transition: opacity 160ms ease; }

/* Cámaras */
#cams { position: fixed; inset: 0; display: grid; place-items: center; background: rgba(0,0,0,0.86); }
.cams-ui { width: 92vw; max-width: 1100px; height: 82vh; background: #0f1216; border: 1px solid #2a313c; display: grid; grid-template-columns: 260px 1fr; grid-template-rows: 1fr auto; gap: 10px; padding: 10px; }
.map { display: grid; gap: 8px; }
.map button { background: #121820; border: 1px solid #263041; color: #A8B3C2; padding: 8px; cursor: pointer; }
.feed { position: relative; background: #0b0f13; display: grid; place-items: center; border: 1px solid #263041; color: #7f8fa3; font-size: 20px; }
.feed .static { position: absolute; inset: 0; background: repeating-linear-gradient(0deg, rgba(255,255,255,0.03) 0 2px, rgba(255,255,255,0.01) 2px 4px); mix-blend-mode: screen; opacity: 0.25; animation: flicker 1.6s steps(2) infinite; }
@keyframes flicker { 50% { opacity: 0.18 } }

/* VHS efecto */
.vhs { width: 100%; height: 100%; display: grid; place-items: center; color: #9fb0c7; font-size: 20px; background: #0b0f13; filter: contrast(1.4) brightness(0.9) saturate(1.2); position: relative; }
.vhs::before { content:""; position:absolute; inset:0; background: repeating-linear-gradient(0deg, rgba(255,255,255,0.04) 0 2px, rgba(255,255,255,0.01) 2px 4px); mix-blend-mode: screen; animation: flicker 1.2s steps(2) infinite; }

/* Jumpscare */
#jumpscare { position: fixed; inset: 0; display: grid; place-items: center; background: black; }
#jumpscare .bang { color: #ffded6; font-size: 48px; animation: snap 380ms ease-in forwards; }
@keyframes snap { 0% { transform: scale(1) } 100% { transform: scale(1.08) } }
